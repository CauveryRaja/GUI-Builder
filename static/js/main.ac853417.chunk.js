(this["webpackJsonpgui-builder"]=this["webpackJsonpgui-builder"]||[]).push([[0],{20:function(t,e,i){},26:function(t,e,i){},27:function(t,e,i){},28:function(t,e,i){},29:function(t,e,i){},30:function(t,e,i){},31:function(t,e,i){},32:function(t,e,i){},33:function(t,e,i){},34:function(t,e,i){},35:function(t,e,i){"use strict";i.r(e);var s=i(0),n=i(1),a=i.n(n),r=i(10),o=i.n(r),p=(i.p,i(20),i(3)),h=i(4),c=i(12),l=i(6),d=i(5),u=i(8),m=(i(26),[{id:"input",name:"Input",icon:"i-cursor"},{id:"select",name:"Select",icon:"th-list"},{id:"textarea",name:"Text Area",icon:"font"},{id:"paragraph",name:"Paragraph",icon:"paragraph"},{id:"heading",name:"Heading",icon:"heading"},{id:"button",name:"Button",icon:"square"}]),b=i(11),g=i(7);b.b.add(g.i,g.b,g.l,g.f,g.j,g.h,g.e,g.d,g.k,g.a,g.c,g.g);var j=function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){var t;return Object(p.a)(this,i),(t=e.call(this)).state={components:m},t.listenDragStart=t.listenDragStart.bind(Object(c.a)(t)),t}return Object(h.a)(i,[{key:"listenDragStart",value:function(t){t.dataTransfer.setData("text/plain",t.target.id)}},{key:"render",value:function(){var t=this;return this.state.components.map((function(e){return Object(s.jsxs)("li",{className:"tool",id:e.id,onDragStart:t.listenDragStart,draggable:"true",children:[Object(s.jsx)("span",{className:"tool-icon",children:Object(s.jsx)(u.a,{icon:e.icon})}),e.name]},e.id)}))}}]),i}(n.Component),v=i(9),x=(i(27),function(){function t(){Object(p.a)(this,t),this.keyMap={input:0,select:0,textarea:0,paragraph:0,heading:0,button:0},this.fetchFromStorage()}return Object(h.a)(t,[{key:"initMap",value:function(){this.keyMap={input:0,select:0,textarea:0,paragraph:0,heading:0,button:0},localStorage.setItem("keyMap",JSON.stringify(this.keyMap))}},{key:"fetchFromStorage",value:function(){var t=localStorage.getItem("keyMap");t?this.keyMap=JSON.parse(t):localStorage.setItem("keyMap",JSON.stringify(this.keyMap))}},{key:"getUniqueId",value:function(t){var e=this.keyMap[t]++;return localStorage.setItem("keyMap",JSON.stringify(this.keyMap)),t+"-"+e}}]),t}()),y={input:{width:125,height:25},select:{width:125,height:25},textarea:{width:120,height:120},paragraph:{width:100,height:20},heading:{width:150,height:20},button:{width:100,height:30}},f=(i(28),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){var t;return Object(p.a)(this,i),(t=e.call(this)).state={type:"text"},t}return Object(h.a)(i,[{key:"listenToolClick",value:function(t){this.setState({type:t})}},{key:"render",value:function(){return Object(s.jsxs)("span",{className:"field-wrapper",children:[Object(s.jsxs)("span",{className:"field-toolbar",style:{position:"absolute",left:this.props.x+"px",top:this.props.y-50+"px",width:this.props.width+"px"},children:[Object(s.jsx)("button",{className:"field-tool ".concat("text"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"text"),children:Object(s.jsx)(u.a,{icon:"font"})}),Object(s.jsx)("button",{className:"field-tool ".concat("number"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"number"),children:"#"}),Object(s.jsx)("button",{className:"field-tool ".concat("file"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"file"),children:Object(s.jsx)(u.a,{icon:"file"})})]}),Object(s.jsx)("input",{type:this.state.type,id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"}})]})}}]),i}(n.Component)),O=(i(29),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsx)("select",{id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"}})}}]),i}(n.Component)),k=(i(30),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsx)("textarea",{id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"}})}}]),i}(n.Component)),S=(i(31),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsx)("p",{id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"},children:this.props.id})}}]),i}(n.Component)),D=(i(32),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){var t;return Object(p.a)(this,i),(t=e.call(this)).state={type:"h2"},t}return Object(h.a)(i,[{key:"listenToolClick",value:function(t){this.setState({type:t})}},{key:"render",value:function(){var t=a.a.createElement(this.state.type,{id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"}},this.props.id);return Object(s.jsxs)("span",{className:"field-wrapper",children:[Object(s.jsxs)("span",{className:"field-toolbar",style:{position:"absolute",left:this.props.x-30+"px",top:this.props.y-50+"px",width:this.props.width+"px"},children:[Object(s.jsx)("button",{className:"field-tool ".concat("h2"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"h2"),children:"h2"}),Object(s.jsx)("button",{className:"field-tool ".concat("h3"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"h3"),children:"h3"}),Object(s.jsx)("button",{className:"field-tool ".concat("h4"===this.state.type?"active":""),onClick:this.listenToolClick.bind(this,"h4"),children:"h4"})]}),t]})}}]),i}(n.Component)),E=(i(33),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsx)("button",{id:this.props.id,name:this.props.id,onDragStart:this.props.listenDragStart,onDragEnd:this.props.moveElement,draggable:"true",style:{position:"absolute",left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px"},children:this.props.id})}}]),i}(n.Component)),C=function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"getComponentByType",value:function(){var t;switch(this.props.componentType){case"input":t=Object(s.jsx)(f,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;case"select":t=Object(s.jsx)(O,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;case"textarea":t=Object(s.jsx)(k,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;case"paragraph":t=Object(s.jsx)(S,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;case"heading":t=Object(s.jsx)(D,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;case"button":t=Object(s.jsx)(E,{id:this.props.id,name:this.props.id,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,listenDragStart:this.props.listenDragStart,moveElement:this.props.moveElement},this.props.id);break;default:t=Object(s.jsx)("span",{children:"Hello"})}return t}},{key:"render",value:function(){return this.getComponentByType(this.props.componentType)}}]),i}(n.Component),w=(i(34),function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){return Object(p.a)(this,i),e.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(s.jsxs)("ul",{id:"canvas-toolbar",children:[Object(s.jsxs)("li",{onClick:this.props.clearCanvas,children:[Object(s.jsx)("span",{className:"tool-icon",children:Object(s.jsx)(u.a,{icon:"trash"})}),"Clear All"]},"clear"),Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{className:"tool-icon",children:Object(s.jsx)(u.a,{icon:"cog"})}),"Settings"]},"settings")]})}}]),i}(n.Component)),M=function(t){Object(l.a)(i,t);var e=Object(d.a)(i);function i(){var t;return Object(p.a)(this,i),(t=e.call(this)).state={componentsMarkup:{},componentsMetaInfo:{}},t.keyMap=new x,t.bindEventListeners(),t}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=localStorage.getItem("droppedComponents");e=e?JSON.parse(e):{},this.setState({componentsMetaInfo:e});var i=document.getElementById("canvas");Object.keys(e).forEach((function(s,n){var a=e[s];t.renderElement(i,a.componentType,s,a.x,a.y)}))}},{key:"listenDragStart",value:function(t){t.dataTransfer.setData("text/plain","move")}},{key:"listenDragOver",value:function(t){t.preventDefault()}},{key:"listenDragEnd",value:function(t){t.preventDefault(),t.dataTransfer.effectAllowed="move";var e=t.dataTransfer.getData("text/plain");if("move"!==e){var i=this.computeCoordinates(t),s=i.x,n=i.y;return this.renderElement(t.target,e,this.keyMap.getUniqueId(e),s,n,!0),!1}}},{key:"moveElement",value:function(t){t.preventDefault();var e=t.target,i=this.computeCoordinates(t),s=i.x,n=i.y;this.renderElement(document.getElementById("canvas"),this.state.componentsMetaInfo[e.id].componentType,e.id,s,n,!0)}},{key:"saveElement",value:function(t,e,i,s){var n=localStorage.getItem("droppedComponents");n=n?JSON.parse(n):{};var a=Object(v.a)({},y[t]);i-=a.width/2,s-=a.height/2,n[e]={componentType:t,x:i,y:s},localStorage.setItem("droppedComponents",JSON.stringify(n)),this.setState({componentsMetaInfo:n})}},{key:"renderElement",value:function(t,e,i,n,r,p){var h=this,c=Object(v.a)({},y[e]),l=c.width,d=c.height;p&&this.saveElement(e,i,n,r),this.setState((function(n,r){var p=Object(s.jsx)(C,{id:i,componentType:e,x:n.componentsMetaInfo[i].x,y:n.componentsMetaInfo[i].y,width:l,height:d,listenDragStart:h.listenDragStart,moveElement:h.moveElement},i),c=n.componentsMarkup;return c[i]=p,o.a.render(Object(s.jsx)(a.a.Fragment,{children:Object.values(c)}),t),Object(v.a)(Object(v.a)({},n),{},{componentsMarkup:c})}))}},{key:"computeCoordinates",value:function(t){var e,i,s=document.getElementById("canvas").getBoundingClientRect();return e=s.x,i=s.y,{x:t.clientX-e,y:t.clientY-i}}},{key:"computeOverlappingRegion",value:function(t,e,i,s){for(var n=Object.keys(this.state.componentsMetaInfo),a={x:0,y:0},r=0;r<n.length;r++){var o=this.state.componentsMetaInfo[n[r]],p=Object(v.a)({},y[o.componentType]),h=p.width,c=p.height;if(o.x<=i&&i<=o.x+h&&o.y<=s&&s<=o.y+c){a.x=o.x+h-i,a.y=o.y+c-s;break}}return console.log(a),a}},{key:"clearCanvas",value:function(){o.a.unmountComponentAtNode(document.getElementById("canvas")),localStorage.setItem("droppedComponents",""),this.setState({componentsMarkup:{},componentsMetaInfo:{}}),this.keyMap.initMap()}},{key:"render",value:function(){return Object(s.jsxs)(a.a.Fragment,{children:[Object(s.jsx)(w,{clearCanvas:this.clearCanvas}),Object(s.jsx)("div",{className:"canvasContainer",children:Object(s.jsx)("div",{id:"canvas",onDrop:this.listenDragEnd,onDragOver:this.listenDragOver})})]})}},{key:"bindEventListeners",value:function(){this.listenDragOver=this.listenDragOver.bind(this),this.listenDragEnd=this.listenDragEnd.bind(this),this.clearCanvas=this.clearCanvas.bind(this),this.moveElement=this.moveElement.bind(this),this.computeCoordinates=this.computeCoordinates.bind(this),this.renderElement=this.renderElement.bind(this),this.saveElement=this.saveElement.bind(this)}}]),i}(n.Component);var N=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{children:Object(s.jsxs)("h2",{className:"app-title",children:[Object(s.jsx)(u.a,{className:"logo highlight",icon:"paint-brush"}),"React ",Object(s.jsx)("span",{className:"highlight",children:"Studio"})]})}),Object(s.jsxs)("main",{children:[Object(s.jsx)("section",{className:"panel-left",children:Object(s.jsx)(j,{})}),Object(s.jsx)("section",{className:"panel-right",children:Object(s.jsx)(M,{})})]})]})},I=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,36)).then((function(e){var i=e.getCLS,s=e.getFID,n=e.getFCP,a=e.getLCP,r=e.getTTFB;i(t),s(t),n(t),a(t),r(t)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),I()}},[[35,1,2]]]);
//# sourceMappingURL=main.ac853417.chunk.js.map